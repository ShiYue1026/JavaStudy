## 常见的限流算法有哪些

**1. 计数器（固定窗口）**

**2. 滑动窗口**

**3. 漏桶**

**4. 令牌桶**



## 为什么需要熔断

![img](https://cdn.nlark.com/yuque/0/2024/png/45263982/1731565276196-b21b68e2-05a4-440f-92fe-5f4afed29e1a.png?x-oss-process=image%2Fformat%2Cwebp)

在整个调用链中，只要中间有一个服务出现问题，都可能会引起上游的所有服务出现一系列的问题，甚至会引起整个调用链的服务都宕机。

因此，在一个服务作为调用端调用另外一个服务时，为了防止被调用的服务出现问题而影响到作为调用端的这个服务，这个服务也需要进行自我保护。而最有效的自我保护方式就是熔断。





实现的rpc跟dubbo有什么区别，为什么不用dubbo要用这个rpc？ 如果把rpc改成分布式架构，应该怎么改 ，哪一部分要改成分本式？注册中心改成分布式，客户端的接口的幂等性和多个分布式注册中心之间的数据一致性怎么保证或者平衡？心跳检测是在一个单线程定时器里，这一部分要不要分布式一下？ 服务端节点应该怎么优雅地上下线？客户端什么时候会拉取最新的服务节点？拉取的是所有的服务节点还是部分服务节点？为什么？ 客户端和服务端的定时器的区别？ rpc为什么要基于tcp？能不能用udp？该怎么改或者定怎样的传输协议，可靠性传输相关的要不要考虑一下？ 能不能在除了rpc的应用层，在别的层（比如传输层和网络层）做负载均衡？大概该怎么做？
